(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{716:function(t,a,s){"use strict";s.r(a);var e=s(6),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#目标"}},[t._v("目标")])]),s("li",[s("a",{attrs:{href:"#什么是编译"}},[t._v("什么是编译？？")])]),s("li",[s("a",{attrs:{href:"#react-的-包历史。"}},[t._v("React 的 包历史。")]),s("ul",[s("li",[s("a",{attrs:{href:"#react-15"}},[t._v("React 15")])]),s("li",[s("a",{attrs:{href:"#react-16-9"}},[t._v("React 16.9")])]),s("li",[s("a",{attrs:{href:"#react-17-0-2"}},[t._v("React 17.0.2")])]),s("li",[s("a",{attrs:{href:"#react-18"}},[t._v("React 18")])])])]),s("li",[s("a",{attrs:{href:"#调用栈"}},[t._v("调用栈")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"目标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("知道 react 大致的实现思路。")])]),t._v(" "),s("li",[s("p",[t._v("使用上，有自己的心得。")])]),t._v(" "),s("li",[s("p",[t._v("Fiber")])]),t._v(" "),s("li",[s("p",[t._v("hook")])]),t._v(" "),s("li",[s("p",[t._v("context")])])]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Array"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XXObject")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(") ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\ndrawData(list) ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\nfunction A () ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\n")])])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("h2",{attrs:{id:"什么是编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是编译"}},[t._v("#")]),t._v(" 什么是编译？？")]),t._v(" "),s("p",[t._v("编辑就是，你定义一个语法规则，我给按照一定的方式解析出来。")]),t._v(" "),s("h2",{attrs:{id:"react-的-包历史。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-的-包历史。"}},[t._v("#")]),t._v(" React 的 包历史。")]),t._v(" "),s("h3",{attrs:{id:"react-15"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-15"}},[t._v("#")]),t._v(" React 15")]),t._v(" "),s("p",[t._v("1,2,3  --\x3e 2,4,6\n223 -- 243 -- 246\nstack reconciler")]),t._v(" "),s("h3",{attrs:{id:"react-16-9"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-16-9"}},[t._v("#")]),t._v(" React 16.9")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("hooks")])]),t._v(" "),s("li",[s("p",[t._v("Fiber 的架构")])])]),t._v(" "),s("h3",{attrs:{id:"react-17-0-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-17-0-2"}},[t._v("#")]),t._v(" React 17.0.2")]),t._v(" "),s("ul",[s("li",[t._v("lagacy -- 同步")]),t._v(" "),s("li",[t._v("concurrent -- 异步")])]),t._v(" "),s("h3",{attrs:{id:"react-18"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-18"}},[t._v("#")]),t._v(" React 18")]),t._v(" "),s("p",[t._v("同步的更新 --\x3e 异步可中断的更新。")]),t._v(" "),s("ul",[s("li",[t._v("Suspense")]),t._v(" "),s("li",[t._v("batching update")]),t._v(" "),s("li",[t._v("lane, scheduler")])]),t._v(" "),s("h2",{attrs:{id:"调用栈"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调用栈"}},[t._v("#")]),t._v(" 调用栈")]),t._v(" "),s("ul",[s("li",[t._v("render\n"),s("ul",[s("li",[t._v("legacyRenderSubtreeIntoContainer\n"),s("ul",[s("li",[t._v("legacyCreateRootFromDOMContainer\n"),s("ul",[s("li",[t._v("createLegacyRoot")]),t._v(" "),s("li")])])])])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);